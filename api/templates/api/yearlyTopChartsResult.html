{% extends "./navbar.html" %}
{% load static %}
{% block content %}

{% if errors %}
<div class="text-center py-4">
  <h1>No data found for current selection !</h1>
  <h3>{{errors}}</h3>
</div>
{% endif %}
{% if data %}
<div class="w-100 text-center pt-4">
  <h1>Top Charts for year: <strong><u>{{year}}</u></strong></h1>
</div>
<div class="container py-4">
  <div class="result-category">
    <ul>
      {% for obj in data %}
      <li><a href="#{{obj.category}}">{{obj.category}}</a></li>
      {% endfor %}
    </ul>
  </div>
</div>
<div class="container">
  <div class="row">
    {% for obj in data %}
    <div class="col-sm-6 col-md-4" id="{{obj.category}}">
      <h2 class="table-title">{{obj.category}}</h2>
      <table class="table table-striped table-hover text-center table-sm" style="width : 80%;">
        <thead>
          <tr>
            <th scope="col">Ranking</th>
            <th scope="col">Trend</th>
          </tr>
        </thead>
        <tbody>
          {% for trend_obj in obj.keywords %}
          <tr>
            <th scope="row">{{ forloop.counter }}</th>
            <td>{{trend_obj}}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% endfor %}
  </div>
</div>
{% endif %}



{% endblock %}